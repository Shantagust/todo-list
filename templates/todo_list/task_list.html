{% extends 'base.html' %}
{% block content %}
  <h2 class="mb-4">TODO List
    <a href="{% url 'todo:task-create' %}" class="btn btn-primary btn-sm float-right mt-3">Add task</a>
  </h2>
  {% if task_list %}
    {% for task in task_list %}
      <h3>
        <strong>{{ task.content }}</strong>
        {% if task.is_done %}
          <strong class="text-success">Done</strong>
          <a href="{% url "todo:task-switcher" task.id %}" class="btn btn-secondary float-right">Undo</a>
        {% else %}
          <strong class="text-danger">Not done</strong>
          <a href="{% url "todo:task-switcher" task.id %}" class="btn btn-success float-right">Complete</a>
        {% endif %}
      </h3>
      <p>created: {{ task.created_at }}
        {% if task.deadline %}
          <span class="text-danger"><strong>Deadline: </strong>{{ task.deadline }}</span>
        {% endif %}
      </p>
      <p class="text-secondary">
        tags: {% for tag in task.tag.all %} <strong>{{ tag.name }}</strong> {% endfor %}
        <a href="{% url 'todo:task-update' task.id %}">Update</a>
        <a href="{% url 'todo:task-delete' task.id %}">Delete</a>
      </p>
      <hr>
    {% endfor %}
  {% endif %}
{% endblock %}
